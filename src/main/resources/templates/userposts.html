<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- MDB -->
    <link rel="stylesheet" th:href="@{/styles/MDB5/css/mdb.min.css}"/>
    <link rel="stylesheet" th:href="@{/styles/styles.css}">
    <link rel="stylesheet" th:href="@{/styles/userposts.css}">

    <meta charset="UTF-8">
    <title>Posts</title>
</head>
<body>
<div th:replace="fragments/header :: header">
    <!--Header from fragments/header-->
</div>

<!--<tr th:each="post: ${posts}">-->
<!--    <td th:text="${post.id}" />-->
<!--    <td th:text="${post.title}" />-->
<!--    <td th:text="${post.body}" />-->
<!--    <td th:text="${post.created}" />-->

<!--</tr>-->

<section class="w-100 p-4">
    <div class="row">
        <div class="col-md-3 col-example"></div>
        <div class="col-md-6 col-example">

            <div th:if="${posts.size() == 0}" class="text-center">
                <p>No posts</p>
                <a class="btn btn-primary" th:href="@{/posts/new}">Create New Post</a>
            </div>

            <div th:each="post: ${posts}" class="bg-white rounded-7 shadow p-4 pt-0 mb-3">
                <div class="postas">
                    <h2 class="pt-3" th:text="${post.title}"></h2>
                    <div class="post-details">

                        <a style="color: black" class="nav-link mt-1"
                           onclick="reply_click(this.id),getModal()"
                           th:id="'#modal'+${post.id}"
                           role="button"
                           data-mdb-toggle="dropdown"
                           aria-expanded="false">
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li>
                                <button type="button" class="dropdown-item" data-bs-toggle="modal"
                                        th:data-bs-target="'#modal'+${post.id}"><i class="fa fa-trash-o me-2"
                                                                                   aria-hidden="true"></i>Delete
                                </button>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#"><i class="fa fa-pencil-square-o me-2"
                                                                     aria-hidden="true"></i>Edit</a>
                            </li>
                        </ul>
                    </div>
                    <th:block th:replace="_modals :: modal(modalid=${post.id})">modal</th:block>
                </div>
                <p th:text="${post.created}"></p>
                <p th:text="${post.body}"></p>
            </div>


        </div>
        <div class="col-md-3 col-example"></div>
    </div>
</section>

<div th:replace="fragments/footer :: footer1">
    <!--Footer from fragments/footer-->

</div>
</body>

<script th:src="@{/styles/userposts.js}"></script>
<script type="text/javascript" th:src="@{/styles/MDB5/js/mdb.min.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">

</script>
</html>